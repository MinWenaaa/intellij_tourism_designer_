import 'package:latlong2/latlong.dart';

/// type : "FeatureCollection"
/// features : [{"adcode":420102,"coordinates":[[114.30368,30.573438],[114.295978,30.577313],[114.285598,30.585743],[114.283155,30.587331],[114.27381,30.591498],[114.271588,30.59689],[114.278448,30.599732],[114.285391,30.606224],[114.280367,30.611657],[114.276971,30.61624],[114.273562,30.623455],[114.272416,30.623204],[114.270069,30.62872],[114.267171,30.628594],[114.264107,30.632285],[114.266702,30.633845],[114.263444,30.638552],[114.258503,30.639235],[114.256998,30.64163],[114.267682,30.64766],[114.272609,30.652283],[114.282106,30.659871],[114.288428,30.66402],[114.292955,30.670049],[114.29243,30.675548],[114.289559,30.681965],[114.289504,30.684164],[114.292637,30.681701],[114.296157,30.676494],[114.297883,30.674893],[114.30426,30.675144],[114.308746,30.677497],[114.315302,30.682438],[114.318863,30.683608],[114.323763,30.682466],[114.329464,30.674921],[114.333964,30.673613],[114.338615,30.675408],[114.340796,30.680128],[114.343957,30.682856],[114.352405,30.68802],[114.355552,30.688869],[114.359693,30.691082],[114.363847,30.692043],[114.365545,30.693393],[114.369162,30.698417],[114.37126,30.698807],[114.38371,30.695021],[114.392047,30.69555],[114.396643,30.691361],[114.399487,30.686183],[114.4028,30.68326],[114.394601,30.680768],[114.388458,30.67758],[114.383241,30.674225],[114.374835,30.666707],[114.371342,30.664967],[114.366235,30.657337],[114.362757,30.648635],[114.36099,30.644541],[114.357222,30.637772],[114.343764,30.627285],[114.316337,30.591748],[114.30368,30.573438]]},{"adcode":420103,"coordinates":[[114.256998,30.64163],[114.258503,30.639235],[114.263444,30.638552],[114.266702,30.633845],[114.264107,30.632285],[114.267171,30.628594],[114.270069,30.62872],[114.272416,30.623204],[114.273562,30.623455],[114.276971,30.61624],[114.280367,30.611657],[114.285391,30.606224],[114.278448,30.599732],[114.271588,30.59689],[114.27381,30.591498],[114.283155,30.587331],[114.285598,30.585743],[114.295978,30.577313],[114.30368,30.573438],[114.298807,30.566429],[114.290774,30.565091],[114.287309,30.565077],[114.284853,30.56353],[114.275287,30.579849],[114.268151,30.576685],[114.265666,30.58212],[114.258558,30.586899],[114.255204,30.587443],[114.249889,30.584141],[114.239068,30.583444],[114.234306,30.587122],[114.235203,30.590759],[114.233022,30.593253],[114.227874,30.596792],[114.226838,30.598185],[114.232015,30.603744],[114.235079,30.604315],[114.237025,30.603354],[114.240476,30.604691],[114.23766,30.6122],[114.234195,30.610445],[114.228674,30.60986],[114.228564,30.611866],[114.226452,30.614986],[114.225279,30.621143],[114.226176,30.623636],[114.229088,30.625809],[114.236997,30.629555],[114.239441,30.631812],[114.250635,30.63702],[114.256998,30.64163]]},null]

class GeoPolygon {
  GeoPolygon({
      this.type, 
      required this.features,});

  GeoPolygon.fromJson(dynamic json) {
    type = json['type'];
    if (json['features'] != null) {
      features = [];
      json['features'].forEach((v) {
        features.add(Features.fromJson(v));
      });
    }
  }
  String? type;
  late List<Features> features;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['type'] = type;
    map['features'] = features.map((v) => v.toJson()).toList();
    return map;
  }

}

/// adcode : 420102
/// coordinates : [[114.30368,30.573438],[114.295978,30.577313],[114.285598,30.585743],[114.283155,30.587331],[114.27381,30.591498],[114.271588,30.59689],[114.278448,30.599732],[114.285391,30.606224],[114.280367,30.611657],[114.276971,30.61624],[114.273562,30.623455],[114.272416,30.623204],[114.270069,30.62872],[114.267171,30.628594],[114.264107,30.632285],[114.266702,30.633845],[114.263444,30.638552],[114.258503,30.639235],[114.256998,30.64163],[114.267682,30.64766],[114.272609,30.652283],[114.282106,30.659871],[114.288428,30.66402],[114.292955,30.670049],[114.29243,30.675548],[114.289559,30.681965],[114.289504,30.684164],[114.292637,30.681701],[114.296157,30.676494],[114.297883,30.674893],[114.30426,30.675144],[114.308746,30.677497],[114.315302,30.682438],[114.318863,30.683608],[114.323763,30.682466],[114.329464,30.674921],[114.333964,30.673613],[114.338615,30.675408],[114.340796,30.680128],[114.343957,30.682856],[114.352405,30.68802],[114.355552,30.688869],[114.359693,30.691082],[114.363847,30.692043],[114.365545,30.693393],[114.369162,30.698417],[114.37126,30.698807],[114.38371,30.695021],[114.392047,30.69555],[114.396643,30.691361],[114.399487,30.686183],[114.4028,30.68326],[114.394601,30.680768],[114.388458,30.67758],[114.383241,30.674225],[114.374835,30.666707],[114.371342,30.664967],[114.366235,30.657337],[114.362757,30.648635],[114.36099,30.644541],[114.357222,30.637772],[114.343764,30.627285],[114.316337,30.591748],[114.30368,30.573438]]

class Features {
  Features({
      this.adcode, 
      this.coordinates,});

  Features.fromJson(dynamic json) {
    adcode = json['adcode'];
    coordinates = [];
    json['coordinates'].forEach((pair) {
      //print("Api.readJson: getPoint");
      coordinates?.add(LatLng(pair[1], pair[0]));
    });
    //print(coordinates);
  }
  int? adcode;
  List<LatLng>? coordinates;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['adcode'] = adcode;
    map['coordinates'] = coordinates;
    return map;
  }

}